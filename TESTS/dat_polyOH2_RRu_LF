
here=`pwd`
DIR_EVRT=$here/..

$DIR_EVRT/Tnum90.exe << ** > res
 &variables Old_Qtransfo=f nb_Qtransfo=3 Cart_Type='LF' /
 &Coord_transfo name_transfo='bunch_poly' nb_vect=2 nb_X=0 inTOout=f cos_beta=t /
8. 1. 1.  (O H H)

 &Coord_transfo name_transfo='poly' cos_th=t /
     &vector nb_vect=1 Frame=t iAtA=1 iAtB=2 / : R1 (OH1)
       &vector                 iAtA=1 iAtB=3 / : R2 (OH2)

 &Coord_transfo name_transfo='active' /
1 1 100   1 1 0     0 1 1

 &minimum  /
ROH 1. angs
ROH 1. angs
cosA   0.5
alpha  0.2
ubeta  0.3
gamma  0.4
xCOM   1.
yCOM   2.
zCOM   3.

 &calculation calc_Tnum=f calc_gG=t nderivGg=0 /
**

TnumOK=`tail -1 res | grep -c "END Tnum" `
if [ $TnumOK -ne "1" ]
then
 echo $0  1
 exit
fi

G11=`awk '/BEGINNING Write_dnMat/,/END Write_dnMat/ {print $2}' res | tail -14 | head -1`
G12=`awk '/BEGINNING Write_dnMat/,/END Write_dnMat/ {print $2}' res | tail -13 | head -1`

mO=8.
mH=1.

err1=`echo $G11 $mO $mH | LANG=c awk '{print $1-(1/$2+1/$3)}'`
err2=`echo $G12 $mO | LANG=c awk '{print $1-(0.5/$2)}'`

echo $0 $err1 $err2
